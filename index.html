<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ€æƒ³æ±¡åº¦ä¸“ä¸šæµ‹è¯• | 100åˆ†åˆ¶</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .progress-container {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #eee;
        }
        
        .progress-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #00b09b, #96c93d);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-weight: bold;
            color: #666;
        }
        
        .question-container {
            padding: 30px;
            min-height: 400px;
        }
        
        .question {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .question.active {
            display: block;
        }
        
        .question-number {
            color: #8e2de2;
            font-size: 1.2em;
            margin-bottom: 5px;
        }
        
        .question-text {
            font-size: 1.4em;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .options {
            display: grid;
            gap: 15px;
        }
        
        .option {
            padding: 18px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        
        .option.selected {
            background: #e3f2fd;
            border-color: #2196f3;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.1);
        }
        
        .option-label {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: #fff;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            border: 2px solid #dee2e6;
        }
        
        .option.selected .option-label {
            background: #2196f3;
            color: white;
            border-color: #2196f3;
        }
        
        .option-text {
            flex: 1;
            font-size: 1.1em;
        }
        
        .navigation {
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }
        
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-prev {
            background: #6c757d;
            color: white;
        }
        
        .btn-prev:hover {
            background: #5a6268;
        }
        
        .btn-next {
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            color: white;
        }
        
        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(142, 45, 226, 0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .result-container {
            padding: 40px 30px;
            text-align: center;
            display: none;
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            position: relative;
            background: conic-gradient(#4a00e0 0% 0%, #f0f0f0 0% 100%);
            transition: background 1.5s ease;
        }
        
        .score-inner {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .score-value {
            font-size: 3.5em;
            font-weight: bold;
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .score-total {
            color: #666;
            font-size: 1.2em;
        }
        
        .level {
            font-size: 1.8em;
            margin: 20px 0;
            color: #4a00e0;
        }
        
        .analysis {
            font-size: 1.2em;
            line-height: 1.6;
            color: #555;
            margin-bottom: 30px;
            max-width: 600px;
            margin: 20px auto 30px;
        }
        
        .detail-btn {
            background: #4a00e0;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            font-size: 1em;
        }
        
        .restart-btn {
            background: transparent;
            color: #4a00e0;
            border: 2px solid #4a00e0;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            font-size: 1em;
        }
        
        .share-btn {
            background: #25D366;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            font-size: 1em;
        }
        
        .details {
            text-align: left;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
        }
        
        .details table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .details th, .details td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .details th {
            background: #e9ecef;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .question-container, .progress-container, .navigation {
                padding: 20px;
            }
            
            .question-text {
                font-size: 1.2em;
            }
            
            .option {
                padding: 15px;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  æ€æƒ³æ±¡åº¦ä¸“ä¸šæµ‹è¯•</h1>
            <p>20é“ç²¾å¿ƒè®¾è®¡çš„é¢˜ç›® Â· æ»¡åˆ†100åˆ†åˆ¶ Â· ç§‘å­¦è¯„ä¼°ä½ çš„"çº¯æ´åº¦"</p>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                <span id="currentQuestion">ç¬¬1é¢˜</span>
                <span id="progressPercent">0%</span>
            </div>
        </div>
        
        <div class="question-container">
            <div id="questionsArea">
                <!-- é—®é¢˜ä¼šåŠ¨æ€æ’å…¥ -->
            </div>
            
            <div class="result-container" id="resultContainer">
                <div class="score-circle" id="scoreCircle">
                    <div class="score-inner">
                        <div class="score-value" id="scoreValue">0</div>
                        <div class="score-total">/ 100</div>
                    </div>
                </div>
                
                <h2 id="resultTitle">æµ‹è¯•ç»“æœ</h2>
                <div class="level" id="resultLevel">åŠ è½½ä¸­...</div>
                <div class="analysis" id="resultAnalysis"></div>
                
                <div>
                    <button class="detail-btn" onclick="showDetails()">æŸ¥çœ‹è¯¦ç»†åˆ†æ</button>
                    <button class="restart-btn" onclick="restartTest()">é‡æ–°æµ‹è¯•</button>
                    <button class="share-btn" onclick="shareResult()">åˆ†äº«ç»“æœ</button>
                </div>
                
                <div class="details" id="detailsPanel">
                    <h3>ğŸ“Š è¯¦ç»†åˆ†ææŠ¥å‘Š</h3>
                    <table id="detailsTable">
                        <thead>
                            <tr>
                                <th>é¢˜ç›®</th>
                                <th>ä½ çš„é€‰æ‹©</th>
                                <th>å¾—åˆ†</th>
                            </tr>
                        </thead>
                        <tbody id="detailsBody">
                            <!-- è¯¦æƒ…ä¼šåŠ¨æ€æ’å…¥ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="navigation" id="navigation">
            <button class="btn btn-prev" id="prevBtn" onclick="prevQuestion()" disabled>ä¸Šä¸€é¢˜</button>
            <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜</button>
        </div>
    </div>

    <script>
        // ====================
        // 20é“é¢˜ç›®æ•°æ®ï¼ˆæ¯é¢˜5åˆ†ï¼Œæ€»åˆ†100åˆ†ï¼‰
        // ====================
        const questions = [
            {
                id: 1,
                question: "1. å½“æœ‹å‹è¯´'å¼€è½¦'æ—¶ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                options: [
                    { text: "é©¾é©¶æ±½è½¦ï¼Œäº¤é€šå‡ºè¡Œ", score: 0 },
                    { text: "æ²¡ç‰¹åˆ«æƒ³æ³•ï¼Œæ­£å¸¸è¯æ±‡", score: 1 },
                    { text: "å¯èƒ½éœ€è¦å…·ä½“è¯­å¢ƒåˆ¤æ–­", score: 2 },
                    { text: "è€å¸æœºå¸¦å¸¦æˆ‘ï¼", score: 4 },
                    { text: "è¿™è½¦æ­£ç»å—ï¼Ÿ", score: 5 }
                ]
            },
            {
                id: 2,
                question: "2. çœ‹åˆ°'é¦™è•‰'å’Œ'é»„ç“œ'åŒæ—¶å‡ºç°ï¼Œä½ ä¼šæƒ³åˆ°ï¼Ÿ",
                options: [
                    { text: "æ°´æœæ²™æ‹‰ï¼Œå¥åº·é¥®é£Ÿ", score: 0 },
                    { text: "æ™®é€šè”¬èœæ°´æœ", score: 1 },
                    { text: "å½¢çŠ¶æœ‰ç‚¹ç‰¹åˆ«", score: 3 },
                    { text: "emm... æ˜¯æˆ‘æƒ³å¤šäº†å—ï¼Ÿ", score: 4 },
                    { text: "è¿™ä¸æ˜¯æ™®é€šçš„è”¬èœï¼", score: 5 }
                ]
            },
            {
                id: 3,
                question: "3. å¬åˆ°'æ·±å…¥äº¤æµ'è¿™ä¸ªè¯ï¼Œä½ è®¤ä¸ºï¼Ÿ",
                options: [
                    { text: "å­¦æœ¯è®¨è®ºï¼Œæ€æƒ³ç¢°æ’", score: 0 },
                    { text: "ä¸€èˆ¬æ€§æ²Ÿé€šè°ˆè¯", score: 1 },
                    { text: "å¯èƒ½æœ‰æ·±å±‚æ¬¡å«ä¹‰", score: 3 },
                    { text: "è¿™äº¤æµæ­£ç»å—ï¼Ÿ", score: 4 },
                    { text: "æ‡‚çš„éƒ½æ‡‚", score: 5 }
                ]
            },
            {
                id: 4,
                question: "4. çœ‹åˆ°'å­¦ä¹ èµ„æ–™'æ–‡ä»¶å¤¹ï¼Œä½ ä¼šæƒ³ï¼Ÿ",
                options: [
                    { text: "æ•™ç§‘ä¹¦ã€è®ºæ–‡ç­‰å­¦ä¹ ææ–™", score: 0 },
                    { text: "å·¥ä½œå­¦ä¹ ç›¸å…³çš„æ–‡ä»¶", score: 1 },
                    { text: "å¯èƒ½åŒ…å«å„ç§èµ„æ–™", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯éšè—äº†ä»€ä¹ˆ", score: 4 },
                    { text: "è¿™èµ„æ–™å®ƒæ­£ç»å—ï¼Ÿ", score: 5 }
                ]
            },
            {
                id: 5,
                question: "5. æœ‰äººå‘'æ»‘ç¨½'è¡¨æƒ…ï¼Œä½ è§‰å¾—ï¼Ÿ",
                options: [
                    { text: "å•çº¯çš„æç¬‘è¡¨æƒ…", score: 0 },
                    { text: "è¡¨è¾¾å¹½é»˜æ„Ÿ", score: 1 },
                    { text: "å¯èƒ½è¯é‡Œæœ‰è¯", score: 3 },
                    { text: "è‚¯å®šåœ¨å†…æ¶µä»€ä¹ˆ", score: 4 },
                    { text: "çœ‹ç ´ä¸è¯´ç ´", score: 5 }
                ]
            },
            {
                id: 6,
                question: "6. çœ‹åˆ°'å–èŒ¶'é‚€è¯·ï¼Œä½ çš„æƒ³æ³•ï¼Ÿ",
                options: [
                    { text: "çœŸçš„å–èŒ¶èŠå¤©", score: 0 },
                    { text: "ç¤¾äº¤æ´»åŠ¨", score: 1 },
                    { text: "å¯èƒ½æœ‰äº‹è¦è°ˆ", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯è¦åšç¬”å½•ï¼Ÿ", score: 4 },
                    { text: "æˆ‘å¦ç™½ï¼Œæˆ‘äº¤ä»£ï¼", score: 5 }
                ]
            },
            {
                id: 7,
                question: "7. 'å¥èº«'è¿™ä¸ªè¯è®©ä½ æƒ³åˆ°ï¼Ÿ",
                options: [
                    { text: "è¿åŠ¨é”»ç‚¼èº«ä½“", score: 0 },
                    { text: "å¥åº·ç”Ÿæ´»æ–¹å¼", score: 1 },
                    { text: "å¥èº«æˆ¿çš„å„ç§å™¨æ", score: 3 },
                    { text: "æŸäº›ç‰¹æ®Šå§¿åŠ¿", score: 4 },
                    { text: "è¿™å¥èº«æ­£ç»å—ï¼Ÿ", score: 5 }
                ]
            },
            {
                id: 8,
                question: "8. çœ‹åˆ°'è¡¥è¯¾'é€šçŸ¥ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "å­¦ä¹ çŸ¥è¯†ï¼Œæå‡è‡ªå·±", score: 0 },
                    { text: "æ­£å¸¸æ•™å­¦æ´»åŠ¨", score: 1 },
                    { text: "å¯èƒ½æ˜¯é¢å¤–è¾…å¯¼", score: 2 },
                    { text: "ä¸€å¯¹ä¸€æ•™å­¦ï¼Ÿ", score: 4 },
                    { text: "è¿™è¯¾å®ƒæ­£ç»å—ï¼Ÿ", score: 5 }
                ]
            },
            {
                id: 9,
                question: "9. 'æŒ‰æ‘©'è¿™ä¸ªè¯è®©ä½ è”æƒ³åˆ°ï¼Ÿ",
                options: [
                    { text: "æ”¾æ¾è‚Œè‚‰ï¼Œç¼“è§£ç–²åŠ³", score: 0 },
                    { text: "ä¿å¥ç†ç–—", score: 1 },
                    { text: "æ­£è§„çš„æŒ‰æ‘©æœåŠ¡", score: 2 },
                    { text: "ç‰¹æ®ŠæœåŠ¡ï¼Ÿ", score: 4 },
                    { text: "æ­£ç»äººè°æŒ‰æ‘©å•Š", score: 5 }
                ]
            },
            {
                id: 10,
                question: "10. çœ‹åˆ°'ä¿®ç”µè„‘'çš„å¹¿å‘Šï¼Œä½ è§‰å¾—ï¼Ÿ",
                options: [
                    { text: "æŠ€æœ¯ç»´ä¿®æœåŠ¡", score: 0 },
                    { text: "ITæŠ€æœ¯æ”¯æŒ", score: 1 },
                    { text: "å¯èƒ½åŒ…æ‹¬æ•°æ®æ¢å¤", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯éšè—æ–‡ä»¶å¤¹ï¼Ÿ", score: 4 },
                    { text: "å¸ˆå‚…ä½ çœ‹æˆ‘ç”µè„‘æ­£å¸¸å—", score: 5 }
                ]
            },
            {
                id: 11,
                question: "11. 'ç‘œä¼½'è¯¾ç¨‹è®©ä½ æƒ³åˆ°ï¼Ÿ",
                options: [
                    { text: "æŸ”éŸ§æ€§è®­ç»ƒ", score: 0 },
                    { text: "èº«å¿ƒå¹³è¡¡è¿åŠ¨", score: 1 },
                    { text: "å„ç§ä½“å¼ç»ƒä¹ ", score: 3 },
                    { text: "é«˜éš¾åº¦å§¿åŠ¿", score: 4 },
                    { text: "è¿™ç‘œä¼½æ­£ç»å—ï¼Ÿ", score: 5 }
                ]
            },
            {
                id: 12,
                question: "12. å¬åˆ°'996'è¿™ä¸ªè¯ï¼Œä½ ç¬¬ä¸€ååº”ï¼Ÿ",
                options: [
                    { text: "å·¥ä½œæ—¶é—´åˆ¶åº¦", score: 0 },
                    { text: "äº’è”ç½‘å…¬å¸æ–‡åŒ–", score: 1 },
                    { text: "åŠ ç­ä¸¥é‡", score: 2 },
                    { text: "ç¦æŠ¥ï¼Ÿ", score: 4 },
                    { text: "æ˜¯æˆ‘æƒ³çš„é‚£ä¸ªæ„æ€å—", score: 5 }
                ]
            },
            {
                id: 13,
                question: "13. çœ‹åˆ°'è¥å…»å¿«çº¿'ä½ ä¼šæƒ³åˆ°ï¼Ÿ",
                options: [
                    { text: "é¥®æ–™å“ç‰Œ", score: 0 },
                    { text: "è¡¥å……è¥å…»", score: 1 },
                    { text: "æ™®é€šé¥®å“", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯è¦è¡¥è¡¥ï¼Ÿ", score: 4 },
                    { text: "æˆ‘æ€€ç–‘ä½ åœ¨å¼€è½¦", score: 5 }
                ]
            },
            {
                id: 14,
                question: "14. 'å¯¹å‰§æœ¬'è¿™ä¸ªè¯ç»„è®©ä½ ï¼Ÿ",
                options: [
                    { text: "æ¼”å‘˜æ’ç»ƒ", score: 0 },
                    { text: "å·¥ä½œå‡†å¤‡", score: 1 },
                    { text: "æ­£å¸¸åˆ›ä½œè¿‡ç¨‹", score: 2 },
                    { text: "æ·±å¤œå¯¹å‰§æœ¬ï¼Ÿ", score: 4 },
                    { text: "å¨±ä¹åœˆä¸“ç”¨è¯", score: 5 }
                ]
            },
            {
                id: 15,
                question: "15. çœ‹åˆ°'æ³¡èŒ¶'ä½ ä¼šæƒ³ï¼Ÿ",
                options: [
                    { text: "èŒ¶å¶å†²æ³¡è¿‡ç¨‹", score: 0 },
                    { text: "å¾…å®¢ä¹‹é“", score: 1 },
                    { text: "èŒ¶æ–‡åŒ–", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯æœ‰æ·±æ„", score: 4 },
                    { text: "è¿™èŒ¶æ³¡å¾—æ­£ç»å—", score: 5 }
                ]
            },
            {
                id: 16,
                question: "16. 'åšå¤´å‘'è¿™ä¸ªè¯è®©ä½ ï¼Ÿ",
                options: [
                    { text: "ç¾å‘é€ å‹", score: 0 },
                    { text: "æ”¹å˜å‘å‹", score: 1 },
                    { text: "å½¢è±¡ç®¡ç†", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯æœ‰æ•…äº‹", score: 4 },
                    { text: "æˆ‘å¥½åƒçŸ¥é“ä»€ä¹ˆ", score: 5 }
                ]
            },
            {
                id: 17,
                question: "17. å¬åˆ°'åƒé¥ºå­'ä½ ä¼šï¼Ÿ",
                options: [
                    { text: "ä¸­å›½ä¼ ç»Ÿé£Ÿç‰©", score: 0 },
                    { text: "å®¶å¸¸ä¾¿é¥­", score: 1 },
                    { text: "èŠ‚æ—¥é£Ÿå“", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯è¦è˜¸é†‹ï¼Ÿ", score: 4 },
                    { text: "è¿™é¥ºå­æ­£ç»å—", score: 5 }
                ]
            },
            {
                id: 18,
                question: "18. 'çœ‹å¤œå…‰æ‰‹è¡¨'è®©ä½ æƒ³åˆ°ï¼Ÿ",
                options: [
                    { text: "æ‰‹è¡¨åŠŸèƒ½", score: 0 },
                    { text: "å¤œæ™šçœ‹æ—¶é—´", score: 1 },
                    { text: "æ™®é€šç”Ÿæ´»åœºæ™¯", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯æœ‰æ¢—", score: 4 },
                    { text: "æˆ‘å¥½åƒå¬è¿‡è¿™ä¸ª", score: 5 }
                ]
            },
            {
                id: 19,
                question: "19. 'æ‰“æ‰‘å…‹'è¿™ä¸ªè¯è®©ä½ ï¼Ÿ",
                options: [
                    { text: "æ£‹ç‰Œæ¸¸æˆ", score: 0 },
                    { text: "å¨±ä¹æ´»åŠ¨", score: 1 },
                    { text: "æœ‹å‹èšä¼š", score: 2 },
                    { text: "æ˜¯ä¸æ˜¯è¾“èµ¢å¾ˆå¤§", score: 3 },
                    { text: "è¿™æ‰‘å…‹æ­£ç»å—", score: 5 }
                ]
            },
            {
                id: 20,
                question: "20. å¬åˆ°'å»å®¾é¦†è®¨è®ºå­¦æœ¯'ä½ ä¼šï¼Ÿ",
                options: [
                    { text: "æ¢ä¸ªç¯å¢ƒå­¦ä¹ ", score: 0 },
                    { text: "å­¦æœ¯äº¤æµæ´»åŠ¨", score: 1 },
                    { text: "å¯èƒ½æ¯”è¾ƒå®‰é™", score: 2 },
                    { text: "è¿™å­¦æœ¯æ­£ç»å—", score: 4 },
                    { text: "æˆ‘ä¿¡ä½ ä¸ªé¬¼", score: 5 }
                ]
            }
        ];

        // ====================
        // å…¨å±€å˜é‡
        // ====================
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let totalScore = 0;

        // ====================
        // åˆå§‹åŒ–æµ‹è¯•
        // ====================
        function initTest() {
            const questionsArea = document.getElementById('questionsArea');
            questionsArea.innerHTML = '';
            
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.id = `q${index}`;
                
                const optionsHTML = q.options.map((opt, optIndex) => `
                    <div class="option" onclick="selectAnswer(${index}, ${optIndex})">
                        <div class="option-label">${String.fromCharCode(65 + optIndex)}</div>
                        <div class="option-text">${opt.text}</div>
                    </div>
                `).join('');
                
                questionDiv.innerHTML = `
                    <div class="question-number">ç¬¬ ${q.id} é¢˜</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">${optionsHTML}</div>
                `;
                
                questionsArea.appendChild(questionDiv);
            });
            
            showQuestion(0);
            updateProgress();
        }

        // ====================
        // æ˜¾ç¤ºæŒ‡å®šé—®é¢˜
        // ====================
        function showQuestion(index) {
            // éšè—æ‰€æœ‰é—®é¢˜
            document.querySelectorAll('.question').forEach(q => {
                q.classList.remove('active');
            });
            
            // æ˜¾ç¤ºå½“å‰é—®é¢˜
            document.getElementById(`q${index}`).classList.add('active');
            
            // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
            updateNavigationButtons();
            
            // æ¢å¤å·²é€‰ç­”æ¡ˆ
            if (userAnswers[index] !== null) {
                const options = document.querySelectorAll(`#q${index} .option`);
                options[userAnswers[index]].classList.add('selected');
            }
        }

        // ====================
        // é€‰æ‹©ç­”æ¡ˆ
        // ====================
        function selectAnswer(qIndex, optIndex) {
            // æ¸…é™¤å½“å‰é—®é¢˜çš„æ‰€æœ‰é€‰ä¸­çŠ¶æ€
            const options = document.querySelectorAll(`#q${qIndex} .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            
            // é€‰ä¸­å½“å‰é€‰é¡¹
            options[optIndex].classList.add('selected');
            
            // ä¿å­˜ç­”æ¡ˆ
            userAnswers[qIndex] = optIndex;
            
            // è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜ï¼ˆé™¤äº†æœ€åä¸€é¢˜ï¼‰
            if (qIndex < questions.length - 1) {
                setTimeout(() => {
                    nextQuestion();
                }, 300);
            }
        }

        // ====================
        // ä¸Šä¸€é¢˜
        // ====================
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
                updateProgress();
            }
        }

        // ====================
        // ä¸‹ä¸€é¢˜
        // ====================
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
                updateProgress();
            } else {
                // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œè®¡ç®—å¹¶æ˜¾ç¤ºç»“æœ
                calculateResult();
            }
        }

        // ====================
        // æ›´æ–°è¿›åº¦æ¡
        // ====================
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('currentQuestion').textContent = `ç¬¬${currentQuestionIndex + 1}é¢˜`;
            document.getElementById('progressPercent').textContent = `${Math.round(progress)}%`;
        }

        // ====================
        // æ›´æ–°å¯¼èˆªæŒ‰é’®
        // ====================
        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.textContent = 'æŸ¥çœ‹ç»“æœ';
            } else {
                nextBtn.textContent = 'ä¸‹ä¸€é¢˜';
            }
            
            // å¦‚æœå½“å‰é¢˜æœªå›ç­”ï¼Œç¦ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
            if (userAnswers[currentQuestionIndex] === null) {
                nextBtn.disabled = true;
                nextBtn.style.opacity = '0.6';
            } else {
                nextBtn.disabled = false;
                nextBtn.style.opacity = '1';
            }
        }

        // ====================
        // è®¡ç®—æµ‹è¯•ç»“æœ
        // ====================
        function calculateResult() {
            // è®¡ç®—æ€»åˆ†
            totalScore = 0;
            userAnswers.forEach((answerIndex, qIndex) => {
                if (answerIndex !== null) {
                    totalScore += questions[qIndex].options[answerIndex].score;
                }
            });
            
            // è®¡ç®—ç™¾åˆ†æ¯”ï¼ˆç”¨äºåœ†å½¢è¿›åº¦æ¡ï¼‰
            const percentage = (totalScore / 100) * 100;
            
            // éšè—é—®é¢˜åŒºåŸŸå’Œå¯¼èˆª
            document.getElementById('questionsArea').style.display = 'none';
            document.getElementById('navigation').style.display = 'none';
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('resultContainer').style.display = 'block';
            
            // æ›´æ–°åˆ†æ•°æ˜¾ç¤º
            document.getElementById('scoreValue').textContent = totalScore;
            
            // æ›´æ–°åœ†å½¢è¿›åº¦æ¡
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.background = `conic-gradient(#4a00e0 0% ${percentage}%, #f0f0f0 ${percentage}% 100%)`;
            
            // æ ¹æ®åˆ†æ•°ç¡®å®šç­‰çº§å’Œè¯„è¯­
            let level = '';
            let analysis = '';
            let title = '';
            
            if (totalScore <= 20) {
                level = "ğŸŒ± çº¯æ´æ— ç‘•";
                title = "å‡ºæ·¤æ³¥è€Œä¸æŸ“";
                analysis = "ä½ çš„æ€æƒ³å¦‚åŒç™½çº¸èˆ¬çº¯æ´ï¼åœ¨è¿™ä¸ªä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œèƒ½ä¿æŒå¦‚æ­¤çº¯å‡€çš„å¿ƒçµå®å±éš¾å¾—ã€‚ä½ å¯èƒ½å¾ˆå°‘æ¥è§¦ç½‘ç»œäºšæ–‡åŒ–ï¼Œæˆ–è€…å¯¹è¿™äº›æ¢—å¤©ç„¶å…ç–«ã€‚ç»§ç»­ä¿æŒè¿™ä»½çº¯çœŸï¼Œä¸–ç•Œå› ä½ è€Œç¾å¥½ï¼";
            } else if (totalScore <= 40) {
                level = "ğŸ’§ è½»åº¦æ„ŸçŸ¥";
                title = "å¶æœ‰æ¶Ÿæ¼ª";
                analysis = "ä½ å¯¹ç½‘ç»œæ–‡åŒ–æœ‰ä¸€å®šçš„äº†è§£ï¼Œä½†å¤§å¤šæ•°æ—¶å€™è¿˜æ˜¯èƒ½ä¿æŒçº¯æ´çš„æ€æƒ³ã€‚å¶å°”èƒ½å¬æ‡‚ä¸€äº›å†…æ¶µæ¢—ï¼Œä½†ä¸ä¼šè¿‡åº¦è”æƒ³ã€‚è¿™ç§çŠ¶æ€å¾ˆå¥½ï¼Œæ—¢è·Ÿä¸Šäº†æ—¶ä»£ï¼Œåˆä¸å¤±æœ¬å¿ƒã€‚";
            } else if (totalScore <= 60) {
                level = "ğŸŒ€ ä¸­åº¦äº†è§£";
                title = "æ±Ÿæ¹–ä¸­äºº";
                analysis = "ä½ å·²ç»æ˜¯ä¸ªæˆç†Ÿçš„ç½‘ç»œå†²æµªé€‰æ‰‹äº†ï¼å¤§éƒ¨åˆ†ç½‘ç»œæ¢—éƒ½é€ƒä¸è¿‡ä½ çš„æ³•çœ¼ï¼Œä½†è¿˜èƒ½ä¿æŒåŸºæœ¬çš„å…‹åˆ¶ã€‚çŸ¥é“ä½†ä¸ä¼ æ’­ï¼Œäº†è§£ä½†ä¸æ²‰è¿·ï¼Œè¿™æ˜¯æœ€å¥½çš„çŠ¶æ€ã€‚æ³¨æ„æ§åˆ¶è½¦é€Ÿå“¦~";
            } else if (totalScore <= 80) {
                level = "ğŸš— é‡åº¦è½¦æ‰‹";
                title = "ç§‹åå±±å¸¸å®¢";
                analysis = "è€å¸æœºä½ å¥½ï¼ä½ çš„åˆ¹è½¦ç³»ç»Ÿå¯èƒ½éœ€è¦æ£€ä¿®äº†ã€‚ä½ å¯¹å„ç§å†…æ¶µæ¢—äº†å¦‚æŒ‡æŒï¼Œç»å¸¸èƒ½å‘ç°åˆ«äººå‘ç°ä¸äº†çš„äº®ç‚¹ã€‚é€‚å½“æ§åˆ¶ä¸€ä¸‹æƒ³è±¡åŠ›ï¼Œæœ‰æ—¶å€™ç®€å•ç‚¹åè€Œæ›´å¿«ä¹ã€‚";
            } else {
                level = "ğŸï¸ ç§‹åå±±è½¦ç¥";
                title = "é€®è™¾æˆ·ï¼";
                analysis = "åˆ¹è½¦å·²åï¼è¯·ç«‹å³åœè½¦æ¥å—æ£€æŸ¥ï¼ä½ çš„æ€æƒ³å·²ç»è¾¾åˆ°äº†ä¸€ä¸ªå…¨æ–°çš„å¢ƒç•Œï¼Œä»»ä½•æ™®é€šè¯æ±‡åœ¨ä½ çœ¼ä¸­éƒ½å¯èƒ½å˜å¾—ä¸æ™®é€šã€‚å»ºè®®å¤šæ¥è§¦ä¸€äº›çº¯æ´çš„äº‹ç‰©ï¼Œç»™å¿ƒçµæ”¾ä¸ªå‡ã€‚è®°ä½ï¼šå¼€å¤ªå¿«å®¹æ˜“ç¿»è½¦ï¼";
            }
            
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultLevel').textContent = level;
            document.getElementById('resultAnalysis').textContent = analysis;
            
            // ç”Ÿæˆè¯¦ç»†åˆ†æ
            generateDetails();
        }

        // ====================
        // ç”Ÿæˆè¯¦ç»†åˆ†æ
        // ====================
        function generateDetails() {
            const detailsBody = document.getElementById('detailsBody');
            detailsBody.innerHTML = '';
            
            let html = '';
            questions.forEach((q, index) => {
                const answerIndex = userAnswers[index];
                if (answerIndex !== null) {
                    const answerText = q.options[answerIndex].text;
                    const answerScore = q.options[answerIndex].score;
                    
                    html += `
                        <tr>
                            <td>ç¬¬${q.id}é¢˜</td>
                            <td>${answerText}</td>
                            <td><strong>${answerScore}</strong>åˆ†</td>
                        </tr>
                    `;
                }
            });
            
            detailsBody.innerHTML = html;
        }

        // ====================
        // æ˜¾ç¤ºè¯¦ç»†åˆ†æ
        // ====================
        function showDetails() {
            const detailsPanel = document.getElementById('detailsPanel');
            if (detailsPanel.style.display === 'block') {
                detailsPanel.style.display = 'none';
            } else {
                detailsPanel.style.display = 'block';
            }
        }

        // ====================
        // åˆ†äº«ç»“æœ
        // ====================
        function shareResult() {
            const shareText = `æˆ‘åœ¨æ€æƒ³æ±¡åº¦æµ‹è¯•ä¸­è·å¾—äº†${totalScore}åˆ†ï¼${totalScore <= 40 ? 'æˆ‘è¿˜æ˜¯ä¸ªçº¯æ´çš„å­©å­~' : 'æˆ‘å·²ç»ä¸æ˜¯å°å­©å­äº†...'}ä½ ä¹Ÿæ¥æµ‹æµ‹å§ï¼`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'æ€æƒ³æ±¡åº¦æµ‹è¯•ç»“æœ',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // å¤åˆ¶åˆ°å‰ªè´´æ¿
                navigator.clipboard.writeText(shareText + ' ' + window.location.href)
                    .then(() => {
                        alert('ç»“æœå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¿«å»åˆ†äº«ç»™æœ‹å‹å§ï¼');
                    });
            }
        }

        // ====================
        // é‡æ–°å¼€å§‹æµ‹è¯•
        // ====================
        function restartTest() {
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            totalScore = 0;
            
            // é‡ç½®UI
            document.getElementById('questionsArea').style.display = 'block';
            document.getElementById('navigation').style.display = 'flex';
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('detailsPanel').style.display = 'none';
            
            // æ¸…é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // é‡æ–°åˆå§‹åŒ–
            showQuestion(0);
            updateProgress();
        }

        // ====================
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        // ====================
        window.onload = initTest;
    </script>
</body>
</html>